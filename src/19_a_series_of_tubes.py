#!/usr/bin/env python3
from enum import Enum, auto
from string import ascii_uppercase


class Direction(Enum):
    UP = auto()
    DOWN = auto()
    LEFT = auto()
    RIGHT = auto()


class Position:
    def __init__(self, diagram):
        self.diagram = diagram
        self.x, self.y = diagram[0].index("|"), 0
        self.direction = Direction.DOWN

    def get_symbol(self):
        return self.diagram[self.y][self.x]

    def advance(self):
        if self.get_symbol() == "+":
            self.turn()
        elif self.direction == Direction.UP:
            self.go_up()
        elif self.direction == Direction.DOWN:
            self.go_down()
        elif self.direction == Direction.RIGHT:
            self.go_right()
        elif self.direction == Direction.LEFT:
            self.go_left()

        if not self.is_valid(self.x, self.y):
            raise Position.Invalid

    def go_left(self):
        self.x -= 1

    def go_right(self):
        self.x += 1

    def go_up(self):
        self.y -= 1

    def go_down(self):
        self.y += 1

    def turn(self):
        if self.direction != Direction.RIGHT and self.direction != Direction.LEFT and \
                self.is_valid(self.x - 1, self.y, '|'):
            self.direction = Direction.LEFT
            self.go_left()
        elif self.direction != Direction.LEFT and self.direction != Direction.RIGHT and \
                self.is_valid(self.x + 1, self.y, '|'):
            self.direction = Direction.RIGHT
            self.go_right()
        elif self.direction != Direction.DOWN and self.direction != Direction.UP and \
                self.is_valid(self.x, self.y - 1, '-'):
            self.direction = Direction.UP
            self.go_up()
        elif self.direction != Direction.UP and self.direction != Direction.DOWN and \
                self.is_valid(self.x, self.y + 1, '-'):
            self.direction = Direction.DOWN
            self.go_down()
        else:
            raise Position.Invalid

    def is_valid(self, x, y, *forbidden):
        if y < 0 or y >= len(self.diagram):
            return False
        if x < 0 or x >= len(self.diagram[y]):
            return False
        valid = ascii_uppercase
        valid += '+-|'
        if forbidden is None:
            forbidden = ''
        return self.diagram[y][x] in valid and self.get_symbol() not in forbidden

    class Invalid(Exception):
        pass


def first(diagram):
    diagram = [list(l) for l in diagram.split("\n")[1:-1]]
    letters = []

    current_pos = Position(diagram)

    try:
        while True:
            current = current_pos.get_symbol()
            if current in ascii_uppercase:
                letters.append(current)
            current_pos.advance()
    except Position.Invalid:
        pass

    return "".join(letters)


def second(diagram):
    diagram = [list(l) for l in diagram.split("\n")[1:-1]]

    current_pos = Position(diagram)
    step = 0

    try:
        while True:
            step += 1
            current_pos.advance()
    except Position.Invalid:
        pass

    return step


if __name__ == '__main__':
    data = """
                                                                                                                 |                                                                                       
               +-+ +---------+     +-------------+                                   +---------------------------|-+         +-------------------------------------------+             +---------+       
               | | |         |     |             |                                   |                           | |         |                                           |             |         |       
           +-------|---------------|-------------------------------------------------|-----+                     | |         |         +---------+                       | +-----------|-------+ +-----+ 
           |   | | |         |     |             |                                   |     |                     | |         |         |         |                       | |           |       |       | 
           |   | +-------------------------------+               +-------------------------|---------------------|-------------------------------|-----------------------|-------------|---+   |       | 
           |   |   |         |     |                             |                   |     |                     | |         |         |         |                       | |           |   |   |       | 
           |   |   |     +---------------------------------------|-------------------------|-------------+       | | +-+     +-------------------------------+           | |           |   |   |       | 
           |   |   |     |   |     |                             |                   |     |             |       | | | |               |         |           |           | |           |   |   |       | 
       +---|---|---|-----+   |     |                             |               +---|-------------------|-------|---|-----------------|---------|-----------------------|-------------|---|-+ +-+     | 
       |   |   |   |         |     |                             |               |   |     |             |       | | | |               |         |           |           | |           |   | |   |     | 
       |   |   | +-----------------|---------+                   |               |   |     |     +-------|---------|-|-----------------+         |           |           | |         +-|---|---------+ | 
       |   |   | | |         |     |         |                   |               |   |     |     |       |       | | | |                         |           |           | |         | |   | |   |   | | 
       |   |   | | |         |     |         |                   |               |   |     |     |       |       | | +-|-------------------------------------------------|-|-----------|-----|-------+ | 
       |   |   | | |         |     |         |                   |               |   |     |     |       |       | |   |                         |           |           | |         | |   | |   |     | 
       |   |   | | |     +---|-----|---------|---------------------------------------|-----------|-------|-------|-|-----------------------------------------+ +-+       | |         | |   | |   |     | 
       |   |   | | |     |   |     |         |                   |               |   |     |     |       |       | |   |                         |             | |       | |         | |   | |   |     | 
       |   |   | | |     |   |   +-----+     |                   |               |   |     |     |       |     +-|-|---|-------------------------|-----------------------|-----+     | |   | |   |     | 
       |   |   | | |     |   |   | |   |     |                   |               |   |     |     |       |     | | |   |                         |             | |       | |   |     | |   | |   |     | 
 +---------|-------|-------------|-|---|-------------+           |               |   |     |     |       |     | | |   +---------------------------------------|-|-------|-----|-+   | |   | |   +---+ | 
 |     |   |   | | |     |   |   | |   |     |       |           |               |   |     |     |       |     | | |                             |             | |       | |   | |   | |   | |       | | 
 |     |   +---|-|-|---------|-----|-----+   |       +-------------------------+ |   |     +---------------------|-|-----------------------------|-------------|---------|-|-----|---|-----|-+       | | 
 |     |       | | |     |   |   | |   | |   |                   |             | |   |           |       |     | | |                             |             | |       | |   | |   | |   |         | | 
 |     |       | | |     |   |   | |   | |   |                   |             | |   |           +-------|-------|-------------------------------|---------------|-+     | |   | |   | |   | +-----+ | | 
 |     |       | | |     |   |   | |   | |   |                   |             | |   |                   |     | | |                             |             | | |     | |   | |   | |   | |     | | | 
 |     |       | | |     |   |   | |   | |   |                   |             | |   |                   |     | | |                             |             | | |     | |   | |   | | +-|-+     | | | 
 |     |       | | |     |   |   | |   | |   |                   |             | |   |                   |     | | |                             |             | | |     | |   | |   | | | |       | | | 
 |     |       | | |     |   |   | |   | |   |                   |             | |   |         +---------------|-|-----------------------------------------------|-|-----------------------------+ +-|-+ 
 |     |       | | |     |   |   | |   | |   |                   |             | |   |         |         |     | | |                             |             | | |     | |   | |   | | | |     |   |   
 |     |       | | |     |   +---|-|---|-|---|-------+ +-+       |             | |   |         |         |     | | +-----------------+           |             | | |     | |   | |   | | | | +-----+ | S 
 |     |       | | |     |       | |   | |   |       | | |       |             | |   |         |         |     | |                   |           |             | | |     | |   | |   | | | | |   | | | | 
 |   +-----------|-------|-------|-----|-----|---------------------------------------------+   |         |     | |                   |           |             | | |     | |   | |   | | | | |   | | | | 
 |   | |       | | |     |       | |   | |   |       | | |       |             | |   |     |   |         |     | |                   |           |             | | |     | |   | |   | | | | |   | | | | 
 |   | |       | | |   +-|-------|-|-----|---|---------|-+ +-----|-------------|-----------|---|---------+     | |                   |           |             | | | +---|-------|---|-|---|-|---|-|---+ 
 |   | |       | | |   | |       | |   | |   |       | |   |     |             | |   |     |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | +-|-----+   | | |   +-|---------|-------------+   | |   |     |             | |   |     |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | | |   |   | | |     |       | |   | |   |   |   | |   |     |             | |   |     |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | | +---|---+ | +-------------------|-|-------|-----------------------------+ |   |     |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     |       |       | |   | |   |   |   | |   |     |               |   |     |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     |       | +-----|-|---------|---|---|-|---|-----|---------------|-----+   |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     |       | |     | |   | |   |   |   | |   |     |               |   | |   |   |               | |                   |           |             | | | |   | |   | |   J | | | |   | | |   
 | | |     |     | +---------+   | |   | |   |   |   | |   |     |               |   | |   |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     | |     | | |   | |   | |   |   |   | |   |     |               |   | |   |   |               | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     | |     +---------|---|-|-----------|-|---|-----|-------------------|-----|---|---------+     | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     | |       | |   | |   | |   |   |   | |   |     |               |   | |   |   |         |     | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     | |       | |   | |   | |   |   |   | |   |     |       +-------|---|-|-----+ |         |     | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     | |       | |   | |   | |   |   |   | |   |     |       |       |   | |   | | |         |     | |                   |           |             | | | |   | |   | |   | | | | |   | | |   
 | | |     |     | |       +-|---|-------|---|---|---|-----|-----+ +-----|-----------|-|---|-------------|-----|-+ +-----------------------------|-------------|-----+   | |   | |   | | | | |   | | |   
 | | |     |     | |         |   | |   | |   |   |   | |   |       |     |       |   | |   | | |         |     |   |                 |           |             | | |     | |   | |   | | | | |   | | |   
 | | |     +---------------------|-----|-|-------------|-----------|-------------|---|-|---|-+ |         |     |   |                 |           |             | | |   +-------|---+ | | | | |   | | |   
 | | |           | |         |   | |   | |   |   |   | |   |       |     |       |   | |   |   |         |     |   |                 |           |             | | |   | | |   | | | | | | | |   | | |   
 | | |           | |         |   | |   | |   |   |   | |   |       |     |       |   | |   |   |         |     |   |                 |           |             | | |   | | |   | | | | | | | |   | | |   
 | | |           | |         |   | |   | |   |   |   | |   |       |     |       |   | |   |   |         |     |   |                 |           |             | | |   | | |   | | | | | | | |   | | |   
 | | |           | |         |   | |   | |   |   |   | |   |       |     |       |   | |   |   |         |     |   |                 |     +-------------------|-----------|---|-|-|-----+ | |   | | |   
 | | |           | |         |   | |   | |   |   |   | |   |       |     |       |   | |   |   |         |     |   |                 |     |     |             | | |   | | |   | | | | |   | |   | | |   
 | | |           | +---------|-----|---|-|---|---|-----+   |       |     |       |   | +---|-------------|---------------------------|----E|-+   |             | | |   | | |   | | | | |   | |   | +-+   
 | | |           |           |   | |   | |   |   |   |     |       |     |       |   |     |   |         |     |   |                 |     | |   |             | | |   | | |   | | | | |   | |   |       
 | | |           |     +---+ |   | |   | |   |   |   |   +---------|-----|-----------------|---|---------|---------------------------+     | |   |             | | |   | | |   | | | | |   | |   |       
 | | |           |     |   | |   | |   | |   |   |   |   | |       |     |       |   |     |   |         |     |   |                       | |   |             | | |   | | |   | | | | |   | |   |       
 | | |           |     |   | |   | |   | |   | +---------|---------------|---------------------|---------|-----+   |                       | |   |             | | |   | | |   | | | | |   | |   |       
 | | |           |     |   | |   | |   | |   | | |   |   | |       |     |       |   |     |   |         |         |                       | |   |             | | |   | | |   | | | | |   | |   |       
 | +-------------|-----|---|-----|-----|-----|-|-----|-----|-------|-----|-----------|---------|-------------------|-----------------------|-|-----------------+ | |   | | |   | | | | |   | |   |       
 |   |           |     |   | |   | |   | |   | | |   |   | |       |     |       |   |     |   |         |         |                       | |   |               | |   | | |   | | | | |   | |   |       
 |   |           |     |   | |   | |   | |   | | |   | +-|---------------|-----------|-----|---|-------------------------------------------|-----|-+             | |   | | |   | | | | |   | |   |       
 |   |           |     |   | |   | |   | |   | | |   | | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | |   | | | | |   | |   |       
 |   |           |     |   | |   | |   | |   | | |   | | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | |   | | | | |   | |   |       
 |   |           |     |   | |   | |   | |   | | |   T | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | |   | | | | |   | |   |       
 |   |         +-|-----|-----|---|-|---|---------|-----|-----------|-----|-------|---|---------|-------------------------------------------|-|---|-|-------------|-------|---+ | | | | |   | |   |       
 |   |         | |     |   | |   | |   | |   | | |   | | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | | | | | | | |   | |   |       
 |   |         | |     |   | |   | |   | |   | | |   | | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | | | | | | | |   | |   |       
 |   |         | |     |   | |   | |   | |   | | |   | | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | | | | | | | |   | |   |       
 |   |         | |     |   | |   | |   | |   | | |   | | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | | | | | | | |   | |   |       
 |   |         | |     |   | |   | |   | |   | | |   | | | |       |     |       |   |     |   |         |         |                       | |   | |             | |   | | | | | | | | |   | |   |       
 |   | +-------|-|-+   |   | |   | |   | |   | | |   | | | |       | +---|-------|---|-----|---|-------------------|-----------------------|-------------------------------|-|-|-|---|---------------+   
 |   | |       | | |   |   | |   | |   | |   | | |   | | | |       | |   |       |   |     |   |         |         |                       | |   | |             | |   | | | | | | | | |   | |   |   |   
 |   | |       | | |   |   | |   | |   | |   | | |   | +-------------|---------------|---------+         |         |                       | |   | |             | |   | | | | | | | | |   | |   |   |   
 |   | |       | | |   |   | |   | |   | |   | | |   |   | |       | |   |       |   |     |             |         |                       | |   | |             | |   | | | | | | | | |   | |   |   |   
 |   | |       | | |   | +-|-|-----------|-----|---------|-|-------|-|---|-----------------|-------------|---------|-----------------------|-----|-|---------------|-----|-+ | | | | | +---+ |   |   |   
 |   | |       | | |   | | | |   | |   | |   | | |   |   | |       | |   |       |   |     |             |         |                       | |   | |             | |   | |   | | | | |       |   |   |   
 |   | |       | | |   +-----|---|-------------------|---|---------|-----|-----------|-----------------------------|-------------------------|-----+             | |   | |   | | | | |       |   |   |   
 |   | |       | | |     | | |   | |   | |   | | |   |   | |       | |   |       |   |     |             |         |                       | |   |               | |   | |   | | | | |       |   |   |   
 |   | |       | | |     | | |   | |   | |   | | |   |   | |       | |   |       |   |     |             |         |                       | |   |               | |   | |   | | | | |       |   |   |   
 |   | |       | | |     | | |   | |   | |   | | |   |   | |       | |   |       |   |     |             |         |                       | |   |               | |   | |   | | | | |       |   |   |   
 |   | |       | | |     | | |   | |   | |   | | |   |   | |       | |   |       |   |     |             |         |                       | |   |               | |   | |   | | | | |       |   |   |   
 |   | |       | | |     | | |   | |   | |   | | |   |   | |       | |   |       |   |     |             |         |                       | |   |               | |   | |   | | | | |       |   |   |   
 |   | |       | | |     | | +-----|---|-|-----------------|-------|-|---------------------------------------------+                       | |   |               | |   | |   | | | | |       |   |   +-+ 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |       |   |     |             |                                 | |   |               | |   | |   | | | | |       |   |     | 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |       +---------|-------------|-------------+                   | +---|---------------|-|---------+ | +-------------+ |     | 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |           |     |             |             |                   |     |               | |   | |     |   | |       | | |     | 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |           |     |             +-------------|---------+         |     |     +-----+   | |   | |     |   | |       | | |     | 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |           |     |                           |         |         |     |     |     |   | |   | |     |   | |       | | |     | 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |           |     |                           |   +-----|---------|-----------|-----|---------|-------------|---------------+ | 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |           |     |                           |   |     |         |     |     |     |   | |   | |     |   | |       | | |   | | 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |           |     |                           |   |     |         |     |     | +-------|-------|-----------------------|-----+ 
 |   | |       | | |     | |     | |   | |   | | |   |   | |       | |   |           |     |                           |   |     |         |     |     | |   |   | |   | |     |   | |       | | |   |   
 |   | |       | | |     | |   +---+   | |   | | |   |   +-----------|---|---------------------------------------------|---|---------------|-----------|-|---|---|-----|-|-----|---|-----------|-----|-+ 
 |   | |       | | |     | |   | |     | |   | | |   |     |       | |   |           |     |                           |   |     |         |     |     | |   |   | |   | |     |   | |       | | |   | | 
 |   | |       | | |     | | +-----+   | |   | | |   |     +-------|-----|-----------|---------+                       |   |     |         | +-------------+ |   | |   | |     |   | |       | | |   +-+ 
 |   | |       | | |     | | | | | |   | |   | | |   |             | |   |           |     |   |                       |   |     |         | |   |     | | | |   | |   | |     |   | |       | | |       
 |   | |     +---|-------+ | | | | |   | |   | | |   | +-------------|---|-----------|-----|---|-----------------------|---|-----|---------|-|---|-----+ | | |   | +-----------------------+ | | |   +-+ 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |                       |   |     |         | |   |       | | |   |     | |     |   | |     | | | |   | | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |                       | +-|-----|---------|-|---|-------|-|-----------|-|---------|-|-----|---+ |   | | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |                       | | |     |         | |   |       | | |   |     | |     |   | |     | |   |   | | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |                       | | | +---|---+     | |   |       | | |   |     | |     |   | |     | |   |   | | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |                       | | | |   |   |     | |   |       | | |   |     | |     |   | |     | |   |   | | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |                       | | | |   |   |     | |   |       | | |   |     | |     |   | |     | |   | +-+ | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |                       | | | |   |   |     | |   |       | | |   |     | |     |   | |     | |   | |   | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |               +-----------|-----|---|---+ +-|---|-----+ | | |   |     | |     |   | +-----+ |   | |   | 
 |   | |     | | | |       | | | | |   | |   | | |   | |           | |   |           |     |   |               |       | | | |   |   |   |   |   |     | | | |   |     | |     |   |         |   | |   | 
 |   | |     +---------------|-|-|-|-----|---|-|-|-------------------+   |           |     +-------------------|---------|---------------|---|---|-----------|---------+ |     |   |         |   | |   | 
 |   | |       | | |       | | | | |   | |   | | |   | |           |     |           |         |               |       | | | |   |   |   |   |   |     | | | |   |       |     |   |         |   | |   | 
 |   | |       | | |       | | | | |   | |   | | |   | |           |     |           |         |               |       | | | |   |   |   |   |   |     | | | |   |       |     |   |         |   | |   | 
 |   | |       | | |       | | | | |   | |   | | |   | |           |     |           |         |               |       | | | |   |   |   |   |   |     | M | |   |       |     |   |         |   | |   | 
 |   | |       | | |     +---|-|---|---|---------|-----+           |     |           |         |               |     +-|---|-|---|-----------|---|-----|-|---|-----------------------------------|-----+ 
 |   | |       | | |     | | | | | |   | |   | | |   |             |     |           |         |               |     | | | | |   |   |   |   |   |     | | | |   |       |     |   |         |   | |     
 |   | |       | | |     | | | | | |   | |   | | |   |             |     |           |         |               |     | | | | |   |   |   |   |   |     | | | |   |       |     |   |         |   | |     
 |   | |       | | |     | | | | | |   | |   | | |   |             |     |           |         |               |     | | | | |   |   |   |   |   |     | | | |   |       |     |   |         |   | |     
 +-------------|---------|---|---|-----------|-|-----|---------+   |     |         +-|-+ +-----|---------------|-----|-------|---|---|---|---------+   | | | |   |       |     |   |         |   | |     
     | |       | | |     | | | | | |   | |   | | |   |         |   |     |         | | | |     |               |     | | | | |   |   |   |   |   | |   | | | |   |       |     |   |         |   | |     
     | |       | | |     | | | | | |   | |   | | |   |         |   |     |         | | | |     |       +---------------|-|---|---------------------|-------|-+   |       |     |   |         |   | |     
     | |       | | |     | | | | | |   | |   | | |   |         |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | | |     |       |     |   |         |   | |     
     | |       | | |     | | | | | |   | |   | | |   |         |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | | |     |       |     |   |   +-----+ +-------+ 
     | |       | | |     | | | | | |   | |   | | |   |         |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | | |     |       |     |   |   |       | | |   | 
     | |       | | |     | | | | | |   | |   | | |   |         |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | | +-----|-+     |     |   |   |       | | |   | 
     | |       | | |     | | | | | |   | |   | | |   |         |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | |       | |     |     |   |   |       | | |   | 
     | |       | | |     | | | | | | +---------|-+   | +-------|---------|-------------|-|-------------|-------------------------|---|---|---|---|-------|-----+ +-+     |   +---------------+ | | |   | 
     | |       | | |     | | | | | | | | |   | |     | |       |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | |     |         |   | |   |   |     | | | |   | 
     | |       | | |     | | | | +---|G--+   | |     | |       |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | |     |         |   | |   |   |     | | | |   | 
     | |       | | |     | | | |   | | |     | |     | |       |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | |     |         |   | |   |   |     | | | |   | 
     | |       | | |     | | | |   | | |     | |   +-|-|-----------|---------------|-----|-------------|-------|-----|-|-|-|-----|-----------|-----------|---------------|---|-|---+   |     | | | |   | 
     | |       | | |     | | | |   | | |     | |   | | |       |   |     |         | | | |     |       |       |     | | | | |   |   |   |   |   | |   | |     |         |   | |       |     | | | |   | 
     | |       | | | +---|-|-|-+   | | |     | |   | | |       |   |     |         | | | +-----|-------|-------+     | +-----|---|-----------|-----|-----------|-------------|-|---------+   | | | |   | 
     | |       | | | |   | | |     | | |     | |   | | |       |   |     |         | | |       |       |             |   | | |   |   |   |   |   | |   | |     |         |   | |       | |   | | | |   | 
     | |       | | | |   | | |     | | +-------|-------|---------------------------|-------------------|-------------------|-----|---------------------|-|-----|-------------|-|-------------|---|-|-+ | 
     | |       | | | |   | | |     | |       | |   | | |       |   |     |         | | |       |       |             |   | | |   |   |   |   |   | |   | |     |         |   | |       | |   | | | | | | 
     | |       | | | |   | | |     | |       | |   | | |       |   |     |         | | |       |       |             |   | | | +-----------------|-+   | |     |         |   | |       | |   | | | | | | 
     | |       | | | |   | | |     | |       | |   | | |       |   |     |         | | |       |       |             |   | | | | |   |   |   |   |     | |     |         |   | |       | |   | | | | | | 
     | |       | | | |   | | |     | |       | |   | | |       |   |     |         | | |       |       |             | +-------|-----|---+   |   |     | +-----|---------|---|-------+ | |   | | | | | | 
     | |       | | | |   | | |     | |       | |   | | |       |   |     |         | | |       |       |             | | | | | | |   |       |   |     |       |         |   | |     | | |   | | | | | | 
     | |       | | | |   | | |     | |       | |   | | |       |   |     +-------------+       |       |             | | | | | | |   |       |   |     |       |         |   | |     | | |   | | | | | | 
     | |       | | | |   | | |     | |       | |   | | |       |   |               | |         |       |             | | | | | | |   |       |   |     |       |         |   | |     | | |   | | | | | | 
     | |       | | | |   | +----------------P--|-+ | | |       |   |               | |         |       |             | | | | | | |   | +---------------|-------+         |   | |     | | |   | | | | | | 
     | |       | | | |   |   |     | |       | | | | | |       |   |               | |         |       |             | | | | | | |   | |     |   |     |                 |   | |     | | |   | | | | | | 
     | |       | | | |   |   |     | |       | | | | | |       |   |               | | +-------|---------------------|-|-----|---|-----|-----|---------|-------------------+ | |     | | |   | | | | | | 
     | |       | | | |   |   |     | |       | | | | | |       |   |               | | |       |       |             | | | | | | |   | |     |   |     |                 | | | |     | | |   | | | | | | 
     | |       | | | |   |   |     | |       | | | | | |       |   |               | | |       |       |             | +---|-|---|---|-|-----|-----------------+         | | | |     | | |   | | | | | | 
     | |       | | | |   |   |     | |       | | | | | |       |   |               | | |       |       |             |   | | | | |   | |     |   |     |       |         | | | |     | | |   | | | | | | 
     | |   +---+ | | |   |   |     | |       | | | | | |       |   |             +-|-|-|---------------|-------------------+ | | |   | |     |   | +---|-------+         | | | |     | | |   | | | | | | 
     | |   |     | | |   |   |     | |       | | | | | |       |   |             | | | |       |       |             |   |   | | |   | |     |   | |   |                 | | | |     | | |   | | | | | | 
     | |   |     | | |   |   |   +---|---------|-|-|-|---------|---|-----------------|-----------------------------------------|-----|-|-----|---|-|-------+ +-----+ +---|-----|-+ +-|-|---------|---|-+ 
     | |   |     | | |   |   |   | | |       | | | | | |       |   |             | | | |       |       |             |   |   | | |   | |     |   | |   |   | |     | |   | | | | | | | | |   | | | | |   
     | |   |     | | |   |   |   | | |       | | | | | |       |   |             | | | |       |       |             |   +-----|-|-----|-----|---|-|---------|-----+ |   | | | | | | | | |   | | | | |   
     | |   |     | | |   |   |   | | |       | | | | | |       |   |             | | | |       |       |             |       | | |   | |     |   | |   |   | |       |   | | | | | | | | |   | | | | |   
     | |   |     +-|---------|-----|---------|---|-|---|-------|-----+           | | | |       |       |             | +---+ | | |   | |     +---|-|---------------------|---|-----|-|-|-|-----+ | | |   
     | |   |       | |   |   |   | | |       | | | | | |       |   | |           | | | |       |       |             | |   | | | |   | |         | |   |   | |       |   | | | | | | | | |   |   | | |   
     | |   |       | |   |   |   | | |       | | | | | |       |   | |           | | +-------------------------------|-|-+ | | | |   | |         | |   |   +-|-+     |   | | | | | | | | |   |   | | |   
     | |   |       | |   |   |   | | |       | | | | | |       |   | |           | |   |       |       |             | | | | | | |   | |         | |   |     | |     |   | | | | | | | | |   |   | | |   
   +---------------|-|---|-------|-|---------|---|-|-|-|-------------|-----------|-----|-------|---------------------|-|---|-|---------|---------|-|---|-----|-----------|-----|---|---|-|-------------+ 
   | | |   |       | |   |   |   | | |       | | | | | |       |   | |           | |   |       |       |             | | | | | | |   | |         | |   |     | |     |   | | | | | | | | |   |   | | | | 
   | | |   | +-+   | |   |   +---|-|-+       | | | | | +---------------------------|---|-------|-------|----------K----|---|---|-----+ |         +-------------+     |   +---+ | | +-+ | |   |   | | | | 
   | | |   | | |   | |   |       | |         | | | | |         |   | |           | |   |       |       |             | | | | | | |     |           |   |     |       |     |   | |     | |   |   | | | | 
   | | |   | | |   +-|-----------|-----------|-|-----------------------------------|-----------|-----------------------|-|-|-|---------|---------------|-------------------|---|-------|-+   |   +---|-+ 
   | | |   | | |     |   |       | |         | | | | |         |   | |           | |   |       |       |             | | | | | | |     |           |   |     |       |     |   | |     |     |     | |   
   | | |   | | |     |   |       | |         +-|---|-|---------------------------|-|-----------|-------------------------|---+ | |     |           |   |     +-+   +-+     |   | |     |     |   +-----+ 
   | | |   | | |     |   |       | |           | | | |         |   | |           | |   |       |       |             | | | |   | |     |           |   |       |   |       |   | |     |     |   | | | | 
   | | |   | | |     |   |       | +-----------|-----|---------|---|-------------|-----|-------|---------------------|-|-|-+   | |     |           |   |       |   |       |   | |     |     |   | | | | 
   | | |   | | |     |   |       |             | | | |         |   | |           | |   |       |       |             | | |     | |     |           |   |       |   |       |   | |     |     |   | | | | 
   +-|-+   | | |     |   |       |             | | | |         |   | |           | |   |       |       | +-----+   +-+ | +---+ | | +---------------------------------------|-----------------|-+ | | | | 
     |     | | |     |   |       |             | | | |         |   | |           | |   |       |       | |     |   |   |     | | | |   |           |   |       |   |       |   | |     |     | | | | | | 
     |     | | |     |   |       |             | | | |         |   | |           | |   |       | +-----|-|---------|---|-----|-|-|-----|---------+ |   |       |   | +-----|--V--|---+ |     | | | | | | 
     |     | | |     |   |       |             | | | |         |   | |           | |   |       | |     | |     |   |   |     | | | |   |         | |   |       |   | |     |   | |   | |     | | | | | | 
 +---|-+   | +-|-----|-------------------------|-----|-------------|-------------|-----|-----+ | |     | +-----|---|-------------------|---------|---+ |       |   | |     |   | | +-+ | +-----+ | | | | 
 |   | |   |   |     |   |       |             | | | |         |   | |           | |   |     | | |     |       |   |   |     | | | |   |         | | | |       |   | |     |   | | |   | |   |   | | | | 
 |   | |   |   |     |   |       |             | | | +---------|-----|-----------|-|---------|-|-|-----+       |   | +-|---------|-----|---------+ +-|-|-----------+ |     |   | | |   | |   |   | | | | 
 |   | |   |   |     |   |       |             | | |           |   | |           | |   |     | | |             |   | | |     | | | |   |             | |       |     |     |   | | |   | |   |   | | | | 
 |   +-|-----------------|-------|---------------------------------|-+           +-----|-----|-|-+             |   | | |     | | | |   |             | |       |     |     |   | | |   | |   |   | | | | 
 |     |   |   |     |   |       |             | | |           |   |               |   |     | |               |   | | |     | | | |   |             | |       |     |     |   | | |   | |   |   | | | | 
 |     |   |   |     |   |       |             | | |           |   +-------------------------------------------+   | +-|-------|---+   |             | |       |     |   +-|-----|-|---|-----|---+ | | | 
 |     |   |   |     |   |       |             | | |           |                   |   |     | |                   |   |     | | |     |             | |       |     |   | |   | | |   | |   |     | | | 
 +-----------------------|-------|-------------------------------------------------|---------|---+                 |   +-----|-+ |     |             | |       |     |   | +---|---|-----+   |     | | | 
       |   |   |     |   |       |             | | |           |                   |   |     | | |                 |         |   |     |             | |       |     |   |     | | |   |     |     | | | 
       |   |   |     |   |       |             | | |           |                   |   |     +-|-|-----------------|-------+ |   |     |             | +-------|---------------|-------------|-----|-|-+ 
       |   |   |     |   |       |             | | |           |                   |   |       | |                 |       | |   |     |             |         |     |   |     | | |   |     |     | |   
       +---+   |     |   |       +-------------|-|-|-----------------------------+ +---|-------|-------------------|---------|---------|-------------|-+       |     +---|-------+ |   |     |     | |   
               |     |   |                     | | |           |                 |     |       | |                 |       | |   |     |             | |       |         |     |   |   |     |     | |   
         +---------+ |   |                     | +-|-----------|-----------------------|-----------------------------------|-|---------|-+       +---|---------|---------|-----+   |   |     |     | |   
         |     |   | |   |                     |   |           |                 |     |       | |                 |       | |   |     | |       |   | |       |         |         |   |     |     | |   
         |   +-------+   |                     |   +-----------|---------------------------------|---------------------------|---|-----|-|-------------------------------|-------------|-----|-----|-+   
         |   | |   |     |                     |               |                 |     |       | |                 |       | |   |     | |       |   | |       |         |         |   |     |     |     
         +---+ |   |     |                     +---------------+                 +-----+       +-+         +-------+       | +---|-----|-|-------|-------------------------------------|-+   +-----+     
               |   |     |                                                                                 |               |     |     | |       |   | |       |         |         |   | |               
               |   |     |         +-----------------------------------------------------------------------+               +-----|-------|-----------|-|-------+         |         +-----+               
               |   |     |         |                                                                                             |     | |       |   | |                 |             |                 
   +-----------|---+     |         |                     +-----------------------------------------------------------------------|-------+       |   +---------------------------------|---------------+ 
   |           |         |         |                     |                                                                       |     |         |     |                 |             |               | 
   +---+ +-----+ +---------------------------------------|-----------------------------------------------------------------------|-----|-----------------------------------------------|---------------+ 
       | |       |       |         |                     |                                                                       |     |         |     |                 |             |                 
       | |       +-----------------|---------------------------------------------------------------------------------------------------+ +---------------------------------+           +---------------+ 
       | |               |         |                     |                                                                       |       |       |     |                 | |                           | 
       +-+               +---------+                     +-----------------------------------------------------------------------+       +-------+     +-----------------+ +---------------------------+ 
                                                                                                                                                                                                         
"""

    res = first(data)
    print(">>> %s" % res)

    res = second(data)
    print(">>> %s" % res)
